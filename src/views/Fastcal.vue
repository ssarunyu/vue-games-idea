<script setup>
import { ref } from 'vue'
let number = ref(0)
const result = ref(0)
const showResult = ref(false)
const arr = ref([])
const counter = ref(0)
const endNumber = ref(false)

const random = () => {
    return Math.floor(Math.random() * 10) + 1
}

const getRandomNumbers = () => {
    for(let i = 0; i < 5; i++) {
        arr.value.push(random())
    }
}

const findAns = () => {
    resetGame()
    getRandomNumbers()
    const cal = arr.value.reduce((a, b) => a + b)
    console.log(arr.value)
    arr.value.forEach((num, index) => {
        setTimeout(() => {
            number.value = num
            counter.value += 1
            if(index === arr.value.length - 1) {
                setTimeout(() => {
                    number.value = 'end'
                    result.value = cal
                    endNumber.value = true
                }, 1000)
            }
        }, index * 1000)
    })
}

const resultBtn = () => {
    showResult.value = true
}

const resetGame = () => {
    endNumber.value = false
    showResult.value = false
    arr.value = []
    counter.value = 0
}



</script>

<template>
    <div class="flex flex-col justify-center items-center">
        <p>Idea ‡πÄ‡∏Å‡∏°‡∏ö‡∏ß‡∏Å‡πÄ‡∏•‡∏Ç‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏≤‡∏ä‡∏≠‡∏ö‡πÅ‡∏Ç‡πà‡∏á‡πÜ‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡∏ï‡∏¥‡πâ‡∏Å‡∏ï‡πà‡∏≠‡∏ÅüíÄ ‡∏£‡∏±‡∏ô‡πÄ‡∏•‡∏Ç‡πÑ‡∏õ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ 5 ‡∏ï‡∏±‡∏ß ‡∏û‡∏≠‡∏Ñ‡∏£‡∏ö ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏•‡∏ö‡∏ß‡∏Å‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß</p>
        <p>‡∏ï‡∏≠‡∏ô‡πÅ‡∏£‡∏Å‡∏ï‡∏≠‡∏ô‡∏£‡∏±‡∏ô‡πÄ‡∏•‡∏Ç‡∏à‡∏ö‡∏à‡∏∞‡πÉ‡∏´‡πâ user ‡πÉ‡∏™‡πà‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏°‡∏±‡πâ‡∏¢ ‡πÅ‡∏ï‡πà‡∏Ç‡∏Å‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏•‡∏¢‡∏î‡∏±‡∏î‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡πÅ‡∏Ñ‡πà‡∏£‡∏±‡∏ô‡πÄ‡∏•‡∏Ç‡πÅ‡∏•‡∏∞‡πÇ‡∏ä‡∏ß‡πå‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÑ‡∏î‡πâ</p>
    </div>
    <div class="w-full h-screen flex flex-col justify-center items-center bg-fuchsia-100">
        <button @click="findAns" class="mb-5 px-5 py-2 bg-fuchsia-300 rounded">Start game</button>
        <h1>‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà : {{ counter }}</h1>
        <h1 class="text-5xl font-semibold">{{ number }}</h1>
        <button v-show="endNumber" @click="resultBtn" class="p-2 bg-fuchsia-200 rounded mt-2">Show result</button>
        <div v-show="showResult">
            <p>All number this time : {{ arr }}</p>
            <strong>Result = {{ result }}</strong>
        </div>

    </div>
</template>